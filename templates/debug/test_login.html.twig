{# templates/debug/test_login.html.twig #}

{% extends 'base.html.twig' %}

{% block title %}Test Login{% endblock %}

{% block body %}
<div class="container">
    <h1>Test Authentication</h1>
    
    {% if app.user %}
        <div class="alert alert-success">
            <h3>Currently Authenticated</h3>
            <p>User ID: {{ app.user.id }}</p>
            <p>Username: {{ app.user.username }}</p>
            <p>Email: {{ app.user.email }}</p>
            <p>Roles: {{ app.user.roles|join(', ') }}</p>
            <a href="{{ path('app_logout') }}" class="btn btn-danger">Logout</a>
        </div>
    {% else %}
        <div class="alert alert-warning">
            <h3>Not Authenticated</h3>
            <a href="{{ path('app_login') }}" class="btn btn-primary">Go to Login</a>
        </div>
    {% endif %}
    
    <div class="mt-4">
        <h3>Test Links</h3>
        <ul>
            <li><a href="{{ path('app_debug_auth') }}">Debug Auth Status</a></li>
            <li><a href="{{ path('app_dashboard') }}">Dashboard</a></li>
            <li><a href="{{ path('app_login') }}">Login Page</a></li>
        </ul>
    </div>
</div>
{% endblock %}