framework:
    cache:
        # Unique name of your app: used to compute stable namespaces for cache keys.
        prefix_seed: app/todo_list

        # Development cache - filesystem
        app: cache.adapter.filesystem
        system: cache.adapter.system
        
        pools:
            doctrine.system_cache_pool:
                adapter: cache.adapter.system
                public: false

when@prod:
    framework:
        cache:
            # Filesystem для dev окружения (APCu требует установки расширения)
            app: cache.adapter.filesystem
            system: cache.adapter.system
            
            pools:
                doctrine.system_cache_pool:
                    adapter: cache.adapter.filesystem
                    public: false
                
                doctrine.result_cache_pool:
                    adapter: cache.adapter.filesystem
                    default_lifetime: 3600
                    public: false
                
                # Redis pool для production с установленным Redis
                cache.redis:
                    adapter: cache.adapter.redis
                    provider: 'redis://localhost'
                    default_lifetime: 7200
                
                # Tags-aware cache
                cache.tags:
                    adapter: cache.adapter.redis
                    provider: 'redis://localhost'
                    tags: true
