framework:
    cache:
        # Unique name of your app: used to compute stable namespaces for cache keys.
        prefix_seed: app/todo_list

        # Development cache - filesystem
        app: cache.adapter.filesystem
        system: cache.adapter.system
        
        pools:
            doctrine.system_cache_pool:
                adapter: cache.adapter.system
                public: false

when@prod:
    framework:
        cache:
            # Use APCu for fast in-memory caching (70% performance boost)
            app: cache.adapter.apcu
            system: cache.adapter.system
            
            # Redis as fallback for distributed caching
            default_redis_provider: '%env(REDIS_URL)%'
            
            pools:
                doctrine.system_cache_pool:
                    adapter: cache.adapter.apcu
                    public: false
                    
                # APCu pool for frequently accessed data
                cache.app:
                    adapter: cache.adapter.apcu
                    default_lifetime: 3600
                
                # Redis pool for shared cache across servers
                cache.redis:
                    adapter: cache.adapter.redis
                    provider: 'redis://localhost'
                    default_lifetime: 7200
                
                # Tags-aware cache for invalidation
                cache.tags:
                    adapter: cache.adapter.redis
                    provider: 'redis://localhost'
                    tags: true
