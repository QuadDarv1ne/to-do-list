class SkeletonLoader{constructor(e={}){this.options={animation:"pulse",duration:1500,...e},this.init()}init(){this.createStyles()}createStyles(){if(document.getElementById("skeleton-styles"))return;const e=document.createElement("style");e.id="skeleton-styles",e.textContent=`\n            @keyframes skeleton-loading {\n                0% { background-position: 200% 0; }\n                100% { background-position: -200% 0; }\n            }\n            \n            .skeleton {\n                background: linear-gradient(\n                    90deg,\n                    var(--bg-tertiary) 25%,\n                    var(--bg-hover) 50%,\n                    var(--bg-tertiary) 75%\n                );\n                background-size: 200% 100%;\n                animation: skeleton-loading ${this.options.duration}ms ease-in-out infinite;\n                border-radius: var(--radius, 0.5rem);\n                color: transparent !important;\n                pointer-events: none;\n                user-select: none;\n            }\n            \n            .skeleton-text {\n                height: 1rem;\n                margin-bottom: var(--spacing-2);\n            }\n            \n            .skeleton-title {\n                height: 1.5rem;\n                width: 60%;\n                margin-bottom: var(--spacing-4);\n            }\n            \n            .skeleton-avatar {\n                width: 2.5rem;\n                height: 2.5rem;\n                border-radius: var(--radius-full, 9999px);\n            }\n            \n            .skeleton-image {\n                width: 100%;\n                height: 200px;\n                border-radius: var(--radius-lg, 0.75rem);\n            }\n            \n            .skeleton-card {\n                padding: var(--spacing-4);\n            }\n            \n            .skeleton-button {\n                width: 100px;\n                height: 38px;\n                border-radius: var(--radius-md, 0.5rem);\n            }\n            \n            .skeleton-input {\n                width: 100%;\n                height: 42px;\n                border-radius: var(--radius-lg, 0.75rem);\n            }\n            \n            .skeleton-chart {\n                width: 100%;\n                height: 300px;\n                border-radius: var(--radius-xl, 1rem);\n            }\n            \n            .skeleton-table-row {\n                display: flex;\n                gap: var(--spacing-4);\n                margin-bottom: var(--spacing-3);\n            }\n            \n            .skeleton-table-cell {\n                flex: 1;\n                height: 1rem;\n            }\n        `,document.head.appendChild(e)}show(e,t="card",n=1){if(e){e.dataset.loading="true",e.innerHTML="";for(let s=0;s<n;s++){const n=this.createSkeleton(t);e.appendChild(n)}}}createSkeleton(e){const t=document.createElement("div");switch(e){case"card":t.className="card skeleton-card",t.innerHTML='\n                    <div class="skeleton skeleton-title"></div>\n                    <div class="skeleton skeleton-text"></div>\n                    <div class="skeleton skeleton-text" style="width: 80%"></div>\n                    <div class="skeleton skeleton-button" style="margin-top: 1rem"></div>\n                ';break;case"stats":t.className="stat-card skeleton",t.innerHTML='\n                    <div class="skeleton skeleton-avatar" style="margin-bottom: 1rem"></div>\n                    <div class="skeleton skeleton-title" style="width: 50%"></div>\n                    <div class="skeleton skeleton-text" style="width: 70%"></div>\n                ';break;case"table":t.className="skeleton-table-row",t.innerHTML='\n                    <div class="skeleton skeleton-table-cell" style="flex: 0 0 50px"></div>\n                    <div class="skeleton skeleton-table-cell" style="flex: 1"></div>\n                    <div class="skeleton skeleton-table-cell" style="flex: 1"></div>\n                    <div class="skeleton skeleton-table-cell" style="flex: 0 0 100px"></div>\n                ';break;case"list":t.className="skeleton",t.style.cssText="display: flex; gap: 1rem; align-items: center; padding: 1rem;",t.innerHTML='\n                    <div class="skeleton skeleton-avatar" style="flex-shrink: 0"></div>\n                    <div style="flex: 1">\n                        <div class="skeleton skeleton-title" style="width: 80%; margin-bottom: 0.5rem"></div>\n                        <div class="skeleton skeleton-text" style="width: 60%"></div>\n                    </div>\n                ';break;case"chart":t.className="card",t.innerHTML='\n                    <div class="skeleton skeleton-title" style="margin: 1.5rem"></div>\n                    <div class="skeleton skeleton-chart"></div>\n                ';break;case"avatar":t.className="skeleton skeleton-avatar";break;case"image":t.className="skeleton skeleton-image";break;case"text":t.className="skeleton skeleton-text";break;case"title":t.className="skeleton skeleton-title";break;default:t.className="skeleton"}return t}hide(e){e&&(delete e.dataset.loading,e.querySelectorAll(".skeleton").forEach(e=>{e.classList.remove("skeleton")}))}async load(e,t,n="card",s=1,a=500){this.show(e,n,s);const l=Date.now(),o=await t(),r=Date.now()-l;return r<a&&await this.sleep(a-r),this.hide(e),o}sleep(e){return new Promise(t=>setTimeout(t,e))}}class LazyImageLoader{constructor(e={}){this.options={placeholder:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg"%3E%3Crect width="100%25" height="100%25" fill="%23e2e8f0"/%3E%3C/svg%3E',threshold:50,...e},this.observer=null,this.init()}init(){"IntersectionObserver"in window?(this.observer=new IntersectionObserver(e=>e.forEach(e=>{e.isIntersecting&&this.loadImage(e.target)}),{rootMargin:`${this.options.threshold}px`}),document.querySelectorAll("img[data-src]").forEach(e=>{this.observer.observe(e)})):document.querySelectorAll("img[data-src]").forEach(e=>{this.loadImage(e)})}loadImage(e){const t=e.dataset.src;if(!t)return;e.src=this.options.placeholder,e.classList.add("skeleton");const n=new Image;n.src=t,n.onload=()=>{e.src=t,e.classList.remove("skeleton"),e.classList.add("loaded"),this.observer&&this.observer.unobserve(e)},e.onerror=()=>{e.classList.remove("skeleton"),e.classList.add("error")}}destroy(){this.observer&&this.observer.disconnect()}}document.addEventListener("DOMContentLoaded",()=>{window.skeletonLoader=new SkeletonLoader,window.lazyImageLoader=new LazyImageLoader,window.loadWithSkeleton=async(e,t,n,s)=>window.skeletonLoader.load(e,t,n,s)}),"undefined"!=typeof module&&module.exports&&(module.exports={SkeletonLoader:SkeletonLoader,LazyImageLoader:LazyImageLoader});