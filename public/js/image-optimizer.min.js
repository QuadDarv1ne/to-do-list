!function(){"use strict";class e{constructor(){this.observer=null,this.init()}init(){this.setupLazyLoading()}setupLazyLoading(){"IntersectionObserver"in window?(this.observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(this.loadImage(e.target),this.observer.unobserve(e.target))})},{rootMargin:"50px"}),this.observeImages()):this.loadAllImages()}observeImages(){document.querySelectorAll('img[loading="lazy"]').forEach(e=>{this.observer.observe(e)})}loadImage(e){e.dataset.src&&(e.src=e.dataset.src,e.classList.add("loaded"))}loadAllImages(){document.querySelectorAll('img[loading="lazy"]').forEach(e=>this.loadImage(e))}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{window.ImageOptimizer=new e}):window.ImageOptimizer=new e}();