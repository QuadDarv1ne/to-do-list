class QuickActionsMenu{constructor(){this.isOpen=!1,this.menu=null,this.fab=null,this.init()}init(){this.createMenu(),this.addStyles(),this.bindEvents()}createMenu(){this.fab=document.createElement("button"),this.fab.className="quick-actions-fab",this.fab.innerHTML='<i class="fas fa-plus"></i>',this.fab.setAttribute("aria-label","Быстрые действия"),this.fab.setAttribute("title","Быстрые действия (Q)"),this.menu=document.createElement("div"),this.menu.className="quick-actions-menu",this.menu.innerHTML='\n            <div class="quick-action-item" data-action="new-task">\n                <div class="quick-action-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">\n                    <i class="fas fa-tasks"></i>\n                </div>\n                <div class="quick-action-content">\n                    <div class="quick-action-title">Новая задача</div>\n                    <div class="quick-action-subtitle">Создать задачу</div>\n                </div>\n            </div>\n            \n            <div class="quick-action-item" data-action="new-project">\n                <div class="quick-action-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">\n                    <i class="fas fa-folder-plus"></i>\n                </div>\n                <div class="quick-action-content">\n                    <div class="quick-action-title">Новый проект</div>\n                    <div class="quick-action-subtitle">Создать проект</div>\n                </div>\n            </div>\n            \n            <div class="quick-action-item" data-action="new-team">\n                <div class="quick-action-icon" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">\n                    <i class="fas fa-users"></i>\n                </div>\n                <div class="quick-action-content">\n                    <div class="quick-action-title">Новая команда</div>\n                    <div class="quick-action-subtitle">Создать команду</div>\n                </div>\n            </div>\n            \n            <div class="quick-action-item" data-action="search">\n                <div class="quick-action-icon" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">\n                    <i class="fas fa-search"></i>\n                </div>\n                <div class="quick-action-content">\n                    <div class="quick-action-title">Поиск</div>\n                    <div class="quick-action-subtitle">Найти задачи</div>\n                </div>\n            </div>\n            \n            <div class="quick-action-item" data-action="notifications">\n                <div class="quick-action-icon" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">\n                    <i class="fas fa-bell"></i>\n                </div>\n                <div class="quick-action-content">\n                    <div class="quick-action-title">Уведомления</div>\n                    <div class="quick-action-subtitle">Просмотр</div>\n                </div>\n            </div>\n        ',document.body.appendChild(this.fab),document.body.appendChild(this.menu)}bindEvents(){this.fab.addEventListener("click",n=>{n.stopPropagation(),this.toggle()}),this.menu.querySelectorAll(".quick-action-item").forEach(n=>{n.addEventListener("click",i=>{const t=n.dataset.action;this.handleAction(t),this.close()})}),document.addEventListener("click",n=>{this.isOpen&&!this.menu.contains(n.target)&&n.target!==this.fab&&this.close()}),document.addEventListener("keydown",n=>{if("q"===n.key&&!n.ctrlKey&&!n.metaKey&&!n.altKey){if("INPUT"===n.target.tagName||"TEXTAREA"===n.target.tagName)return;n.preventDefault(),this.toggle()}}),document.addEventListener("keydown",n=>{"Escape"===n.key&&this.isOpen&&this.close()})}toggle(){this.isOpen?this.close():this.open()}open(){this.isOpen=!0,this.fab.classList.add("active"),this.menu.classList.add("show");this.menu.querySelectorAll(".quick-action-item").forEach((n,i)=>{setTimeout(()=>{n.style.animation=`slideInUp 0.3s ease-out ${.05*i}s both`},0)})}close(){this.isOpen=!1,this.fab.classList.remove("active"),this.menu.classList.remove("show")}handleAction(n){switch(n){case"new-task":const n=document.getElementById("quick-task-fab");n?n.click():window.location.href="/task/new";break;case"new-project":window.location.href="/project/new";break;case"new-team":window.location.href="/team/new";break;case"search":const i=document.querySelector('input[type="search"], #search');i?i.focus():window.location.href="/search";break;case"notifications":window.location.href="/notifications"}}addStyles(){if(document.getElementById("quickActionsMenuStyles"))return;const n=document.createElement("style");n.id="quickActionsMenuStyles",n.textContent="\n            .quick-actions-fab {\n                position: fixed;\n                bottom: 30px;\n                right: 30px;\n                width: 60px;\n                height: 60px;\n                border-radius: 50%;\n                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                color: white;\n                border: none;\n                box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);\n                cursor: pointer;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                font-size: 1.5rem;\n                z-index: 1000;\n                transition: all 0.3s ease;\n            }\n\n            .quick-actions-fab:hover {\n                transform: scale(1.1);\n                box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5);\n            }\n\n            .quick-actions-fab.active {\n                transform: rotate(45deg);\n                background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);\n            }\n\n            .quick-actions-fab i {\n                transition: transform 0.3s ease;\n            }\n\n            .quick-actions-menu {\n                position: fixed;\n                bottom: 100px;\n                right: 30px;\n                width: 280px;\n                background: var(--bg-card);\n                border: 1px solid var(--border);\n                border-radius: 16px;\n                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);\n                padding: 0.5rem;\n                z-index: 999;\n                opacity: 0;\n                visibility: hidden;\n                transform: translateY(20px);\n                transition: all 0.3s ease;\n            }\n\n            .quick-actions-menu.show {\n                opacity: 1;\n                visibility: visible;\n                transform: translateY(0);\n            }\n\n            .quick-action-item {\n                display: flex;\n                align-items: center;\n                gap: 1rem;\n                padding: 0.875rem;\n                border-radius: 12px;\n                cursor: pointer;\n                transition: all 0.2s ease;\n                margin-bottom: 0.25rem;\n            }\n\n            .quick-action-item:last-child {\n                margin-bottom: 0;\n            }\n\n            .quick-action-item:hover {\n                background: var(--bg-body);\n                transform: translateX(-4px);\n            }\n\n            .quick-action-icon {\n                width: 44px;\n                height: 44px;\n                border-radius: 12px;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                color: white;\n                font-size: 1.125rem;\n                flex-shrink: 0;\n            }\n\n            .quick-action-content {\n                flex: 1;\n            }\n\n            .quick-action-title {\n                font-size: 0.9375rem;\n                font-weight: 600;\n                color: var(--text-primary);\n                margin-bottom: 0.125rem;\n            }\n\n            .quick-action-subtitle {\n                font-size: 0.75rem;\n                color: var(--text-secondary);\n            }\n\n            @keyframes slideInUp {\n                from {\n                    opacity: 0;\n                    transform: translateY(10px);\n                }\n                to {\n                    opacity: 1;\n                    transform: translateY(0);\n                }\n            }\n\n            @media (max-width: 768px) {\n                .quick-actions-fab {\n                    bottom: 20px;\n                    right: 20px;\n                    width: 56px;\n                    height: 56px;\n                    font-size: 1.25rem;\n                }\n\n                .quick-actions-menu {\n                    bottom: 85px;\n                    right: 20px;\n                    width: calc(100vw - 40px);\n                    max-width: 320px;\n                }\n            }\n\n            [data-theme='dark'] .quick-actions-menu {\n                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);\n            }\n        ",document.head.appendChild(n)}}document.addEventListener("DOMContentLoaded",function(){const n=document.getElementById("quick-task-fab");n&&(n.style.display="none"),window.quickActionsMenu=new QuickActionsMenu}),window.QuickActionsMenu=QuickActionsMenu;